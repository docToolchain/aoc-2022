<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Aoc 2022: corneil</title>
    <meta charset="UTF-8">
<meta name="google-site-verification" content="JZ7jk3duxzxHDLuOHKPxc-uoz0JPlSBLeaAxh3wGn9Q" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Just for fun">
    <meta name="author" content="Ralf D. MÃ¼ller">
    <meta name="keywords" content="aoc">
    <meta name="generator" content="JBake">

    <!-- Le styles -->
    <link href="../../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../../css/asciidoctor.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link href="../../../css/prettify.css" rel="stylesheet">
      <link href="../../../css/retro.css" rel="stylesheet">
      <style>
      @media only screen and (min-width:768px){
          #toctitle{font-size:1.375em}
          #toc.toc{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto; padding-top: 60px;}
          #toc.toc #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
          #toc.toc>ul{font-size:.9em;margin-bottom:0}
          #toc.toc ul ul{margin-left:0;padding-left:1em}
          #toc.toc ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
          body.toc2{ padding-left: 15.5em;padding-right:0; width: 100% !important;}
          body.toc2 div#wrap div.content {width: auto !important;}
          #toc.toc{width:15em; padding-top: 60px;}
      }
      @media only screen and (min-width:1280px){
          body.toc2{ padding-left: 20.5em;padding-right:0; width: 100% !important;}
          body.toc2 div#wrap div.content {width: auto !important;}
          #toc.toc{width:20em; padding-top: 60px;}
          #toc.toc #toctitle{font-size:1.375em}
          #toc.toc>ul{font-size:.95em}
          #toc.toc ul ul{padding-left:1.25em}
      }
      body {
          overflow-y: scroll;
      }
      html, body {
          font-size: 1.06rem;
      }
      body.toc2{ overflow-x: auto}
      #toc.toc ul {
          padding-inline-start: 0;
      }
      :target::before {
          content: "";
          display: block;
          height: 60px; /* fixed header height*/
          margin: -60px 0 0; /* negative fixed header height */
      }
      .navbar {
          background-image: url(/aoc-2022/images/treeback.png);
          background-size: contain;
          background-repeat: repeat-x;
          border-bottom: 0;
          padding-bottom: 20px;
          background-color: transparent;
          box-shadow: none;
      }
      html {
          background: url(/aoc-2022/images/snowback.png) no-repeat center center fixed;
          -webkit-background-size: cover;
          -moz-background-size: cover;
          -o-background-size: cover;
          background-size: cover;
      }

      </style>
      <script>
          //smart redirectg
          if (document.location.href.includes("netlify")) {
              document.location.href=document.location.href.replace("aoc-2022.netlify.app/","doctoolchain.org/aoc-2022/");
          }
      </script>
<!-- /aoc-2022/ -->

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->

      <link rel="apple-touch-icon" sizes="180x180" href="/aoc-2022//apple-touch-icon.png">
      <link rel="icon" type="image/png" sizes="32x32" href="/aoc-2022//favicon-32x32.png">
      <link rel="icon" type="image/png" sizes="16x16" href="/aoc-2022//favicon-16x16.png">
      <link rel="manifest" href="/aoc-2022//site.webmanifest">
      <link rel="mask-icon" href="/aoc-2022//safari-pinned-tab.svg" color="#5bbad5">
      <meta name="msapplication-TileColor" content="#da532c">
      <meta name="theme-color" content="#ffffff">
  </head>

<body onload="prettyPrint()" class="toc2 toc-left" >
<div id="wrap">

	
	<!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../../">AoC-2022</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
              
                
                  <li><a href="../../../rules/">Rules</a></li>
                
              
                
                  <li><a href="../../../solutions/">Solutions</a></li>
                
              
                
                  <li><a href="../../../about/">About</a></li>
                
              
          </ul>
            <!-- tag::search[] -->
            <form class="navbar-form navbar-right" action="https://google.de/search" style="border: none;">
                <div class="form-group">
                    <input type="hidden" name="q" value="site:doctoolchain.org/aoc-2022">
                    <input type="text" name="q" class="form-control" id="search">
                    <button type="submit" class="btn btn-default hidden-sm ">Find</button>
                </div>
            </form>
            <!-- end::search[] -->
        </div><!--/.nav-collapse -->
      </div>
    </div>

	<div class="container content">
	<p><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_corneil">corneil</a>
<ul class="sectlevel2">
<li><a href="#_about_me">About me</a></li>
<li><a href="#_day_00_kotlin">Day 00: kotlin</a>
<ul class="sectlevel3">
<li><a href="#_day_00_hello_world">Day 00 Hello World!</a></li>
</ul>
</li>
<li><a href="#_day_01_kotlin">Day 01: kotlin</a>
<ul class="sectlevel3">
<li><a href="#_day_01_calorie_counting">Day 01 Calorie Counting</a></li>
</ul>
</li>
<li><a href="#_day_02_kotlin">Day 02: kotlin</a>
<ul class="sectlevel3">
<li><a href="#_day_02_rock_paper_scissors">Day 02 Rock Paper Scissors</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_corneil"><a class="anchor" href="#_corneil"></a><a class="link" href="#_corneil">corneil</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="https://avatars.githubusercontent.com/u/466422?v=4" alt="466422?v=4" width="100px"></span></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>corneil</strong><br>
Corneil du Plessis<br>
Github: <a href="https://github.com/corneil">corneil</a><br>
Twitter: <a href="https://twitter.com/corneil">@corneil</a><br>
Mastodon: <a href="https://mastodon.social/@corneil">@corneil@mastodon.social</a></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_about_me"><a class="anchor" href="#_about_me"></a><a class="link" href="#_about_me">About me</a></h3>
<div class="paragraph">
<p>I am a Staff Software Engineer at VMware working on the Spring Cloud Data Flow team. I enjoyed AoC 2019 and decided to give it another go this year.</p>
</div>
<div class="paragraph">
<p>I love coding in Kotlin and I try write the code solving the puzzles in a way that someone else can understand the solution.</p>
</div>
<a id="day00" />
</div>
<div class="sect2">
<h3 id="_day_00_kotlin"><a class="anchor" href="#_day_00_kotlin"></a><a class="link" href="#_day_00_kotlin">Day 00: kotlin</a></h3>
<div class="sect3">
<h4 id="_day_00_hello_world"><a class="anchor" href="#_day_00_hello_world"></a><a class="link" href="#_day_00_hello_world">Day 00 Hello World!</a></h4>
<div class="paragraph">
<p>This is a simple Hello World program in <a href="https://kotlinlang.org">Kotlin</a>, if you want to experiment with Kotlin use the <a href="https://play.kotlinlang.org">Kotlin Playground</a></p>
</div>
<div class="paragraph">
<p>My aim with <a href="https://adventofcode.com/2021">Advent of Code</a> is to write code solving the puzzles in a way that is understandable to a wide audience.
Feel free to reach out with comments at the links above.</p>
</div>
<a id="day01" />
</div>
</div>
<div class="sect2">
<h3 id="_day_01_kotlin"><a class="anchor" href="#_day_01_kotlin"></a><a class="link" href="#_day_01_kotlin">Day 01: kotlin</a></h3>
<div class="sect3">
<h4 id="_day_01_calorie_counting"><a class="anchor" href="#_day_01_calorie_counting"></a><a class="link" href="#_day_01_calorie_counting">Day 01 Calorie Counting</a></h4>
<div class="paragraph">
<p>The day was lines representing the calories of food items carried by elves and separated by blank lines.
Kotlin File has a readLines function that makes it easy to parse the input, calculate the calories for each elf and add to a list.
For part one the max value it the answer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-kotlin" data-lang="kotlin">    fun findCalories(input: List&lt;String&gt;): List&lt;Int&gt; {
        val elves = mutableListOf&lt;Int&gt;()
        var calories = 0
        for (line in input) {
            if (line.isBlank()) {
                elves.add(calories)
                calories = 0
            } else {
                calories += line.toInt()
            }
        }
        elves.add(calories)
        return elves
    }


    fun findMaxCalories(input: List&lt;String&gt;): Int {
        val calories = findCalories(input)
        return calories.max()
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>For part two the result is the sum of the first three when sorted in descending order. Kotlin has the <code>take</code> method on collections which is very useful in this case.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-kotlin" data-lang="kotlin">    fun topThree(input: List&lt;String&gt;): Int {
        val calories = findCalories(input)
        return calories.sortedDescending().take(3).sum()
    }</code></pre>
</div>
</div>
<a id="day02" />
</div>
</div>
<div class="sect2">
<h3 id="_day_02_kotlin"><a class="anchor" href="#_day_02_kotlin"></a><a class="link" href="#_day_02_kotlin">Day 02: kotlin</a></h3>
<div class="sect3">
<h4 id="_day_02_rock_paper_scissors"><a class="anchor" href="#_day_02_rock_paper_scissors"></a><a class="link" href="#_day_02_rock_paper_scissors">Day 02 Rock Paper Scissors</a></h4>
<div class="paragraph">
<p>Part 1 meant we needed to parse input representing an opponent hand when playing RPS, and we had to assume the 2nd input was an answer we needed to provide while "cheating".</p>
</div>
<div class="paragraph">
<p>Part 2 came with a curveball in that the 2nd input should be treated as an outcome. This means we needed to find the correct hand for the outcome.
The score calculation was a function of the outcome and the hand we selected.</p>
</div>
<div class="paragraph">
<p>Below is the final code and there are loaders for creating the rounds for part 1 and part 2.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-kotlin" data-lang="kotlin">enum class Rps(val identifiers: String, val shapeScore: Int) {
    ROCK("AX", 1),
    PAPER("BY", 2),
    SCISSORS("CZ", 3)
}

enum class Outcome(val identifier: String, val score: Int) {
    LOSE("X", 0),
    DRAW("Y", 3),
    WIN("Z", 6)
}

data class Hand(val them: Rps, val me: Rps)

object Rules {

    data class Rule(val loser: Rps, val winner: Rps)

    private val beats = mapOf(
        Rps.ROCK to Rule(Rps.SCISSORS, Rps.PAPER),
        Rps.PAPER to Rule(Rps.ROCK, Rps.SCISSORS),
        Rps.SCISSORS to Rule(Rps.PAPER, Rps.ROCK)
    )

    fun winner(shape: Rps): Rps {
        val winner = beats[shape] ?: error("Cannot find $shape")
        return winner.winner
    }

    fun loser(shape: Rps): Rps {
        val loser = beats[shape] ?: error("Cannot find $shape")
        return loser.loser
    }

    fun didIWin(round: Hand): Boolean {
        val shape = loser(round.me)
        return shape == round.them
    }

}

fun main() {

    fun toRps(hint: String): Rps {
        return Rps.values().find { it.identifiers.contains(hint) } ?: error("Invalid RPS $hint")
    }

    fun toOutcome(outcome: String): Outcome {
        return Outcome.values().find { it.identifier == outcome } ?: error("Invalid Outcome:$outcome")
    }

    fun readRounds(input: List&lt;String&gt;): List&lt;Hand&gt; {
        return input.map {
            val hints = it.split(" ")
            Hand(toRps(hints[0]), toRps(hints[1]))
        }
    }

    // choose a shape to match the outcome
    fun chooseShape(shape: Rps, outcome: Outcome): Rps {
        return when (outcome) {
            Outcome.DRAW -&gt; shape
            Outcome.WIN -&gt; Rules.winner(shape)
            Outcome.LOSE -&gt; Rules.loser(shape)
        }
    }

    // convert 2nd to outcome and then find a shape to match outcome given 1st
    fun readRounds2(input: List&lt;String&gt;): List&lt;Hand&gt; {
        return input.map {
            val hints = it.split(" ")
            Pair(toRps(hints[0]), toOutcome(hints[1]))
        }.map {
            Hand(it.first, chooseShape(it.first, it.second))
        }
    }

    fun calcRound(round: Hand): Int {
        return when {
            round.them == round.me -&gt; Outcome.DRAW.score
            Rules.didIWin(round) -&gt; Outcome.WIN.score
            else -&gt; Outcome.LOSE.score
        }
    }

    fun calcScore(round: Hand): Int {
        return round.me.shapeScore + calcRound(round)
    }

    fun calcTotal(rounds: List&lt;Hand&gt;): Int {
        return rounds.sumOf { calcScore(it) }
    }

    fun part1() {

        val testScore = calcTotal(readRounds(readInput("day02_test")))
        println("Test Total = $testScore")
        check(testScore == 15)

        val total = calcTotal(readRounds(readInput("day02")))
        println("Total = $total")

    }

    fun part2() {

        val testScore2 = calcTotal(readRounds2(readInput("day02_test")))
        println("Test Total 2 = $testScore2")
        check(testScore2 == 12)

        val total2 = calcTotal(readRounds2(readInput("day02")))
        println("Total 2 = $total2")
    }

    part1()
    part2()
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div></p>

	</div>

</div>
<div id="push"></div>
</div>


    <div id="footer">
      <div class="container">
          <p class="muted credit">&copy; 2022 | Mixed with Bootstrap v3.1.1 | generated with <a href="https://doctoolchain.org">docToolchain</a> | Baked with JBake v2.6.4</p>
      </div>
    </div>
    
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="../../../js/bootstrap.min.js"></script>
    <script src="../../../js/prettify.js"></script>
    


</body>
</html>